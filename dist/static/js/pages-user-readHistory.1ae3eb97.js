(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-readHistory"],{"0b18":function(t,e,a){var n=a("ce42");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("4f06").default;i("1af5dfc3",n,!0,{sourceMap:!1,shadowMode:!1})},"24e2":function(t,e,a){"use strict";var n=a("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.createReadHistory=o,e.fetchReadHistoryList=r,e.clearReadHistory=s;var i=n(a("f96d"));function o(t){return(0,i.default)({method:"POST",url:"/mall-portal/member/readHistory/create",data:t})}function r(t){return(0,i.default)({method:"GET",url:"/mall-portal/member/readHistory/list",params:t})}function s(){return(0,i.default)({method:"POST",url:"/mall-portal/member/readHistory/clear"})}},"4a84":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return o})),a.d(e,"a",(function(){return n}));var n={uniLoadMore:a("d3ff").default},i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"content"},[null==t.productList||0===t.productList.length?a("empty"):t._e(),a("v-uni-view",{staticClass:"hot-section"},t._l(t.productList,(function(e,n){return a("v-uni-view",{key:n,staticClass:"guess-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.navToDetailPage(e)}}},[a("v-uni-view",{staticClass:"image-wrapper"},[a("v-uni-image",{attrs:{src:e.productPic,mode:"aspectFill"}})],1),a("v-uni-view",{staticClass:"txt"},[a("v-uni-text",{staticClass:"title clamp"},[t._v(t._s(e.productName))]),a("v-uni-text",{staticClass:"title2"},[t._v(t._s(e.productSubTitle))]),a("v-uni-view",{staticClass:"hor-txt"},[a("v-uni-text",{staticClass:"price"},[t._v("￥"+t._s(e.productPrice))]),a("v-uni-text",{staticClass:"time"},[t._v(t._s(t._f("formatDateTime")(e.createTime)))])],1)],1)],1)})),1),a("uni-load-more",{attrs:{status:t.loadingType}})],1)},o=[]},"7a9c":function(t,e,a){"use strict";a.r(e);var n=a("4a84"),i=a("efee");for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a("a1f8");var r,s=a("f0c5"),c=Object(s["a"])(i["default"],n["b"],n["c"],!1,null,"389088a8",null,!1,n["a"],r);e["default"]=c.exports},a1f8:function(t,e,a){"use strict";var n=a("0b18"),i=a.n(n);i.a},be80:function(t,e,a){"use strict";var n=a("4ea4");a("99af"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("96cf");var i=n(a("1da1")),o=n(a("6fd1")),r=n(a("d3ff")),s=a("d8fd"),c=a("24e2"),u=getApp().globalData,d={components:{uniLoadMore:r.default,empty:o.default},data:function(){return{loadingType:"more",productList:[],searchParam:{pageNum:1,pageSize:6},global:u}},onLoad:function(t){this.loadData()},onPullDownRefresh:function(){this.loadData("refresh")},onReachBottom:function(){this.searchParam.pageNum++,this.loadData()},onNavigationBarButtonTap:function(t){var e=t.index,a=this;0===e&&uni.showModal({title:u.language.tips,content:u.language.clearAll,success:function(t){t.confirm&&(0,c.clearReadHistory)().then((function(t){a.loadData("refresh")}))}})},filters:{formatDateTime:function(t){if(null==t||""===t)return"N/A";var e=new Date(t);return(0,s.formatDate)(e,"yyyy-MM-dd hh:mm:ss")}},methods:{loadData:function(){var t=arguments,e=this;return(0,i.default)(regeneratorRuntime.mark((function a(){var n,i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.length>0&&void 0!==t[0]?t[0]:"add",i=t.length>1?t[1]:void 0,"add"!==n){a.next=8;break}if("nomore"!==e.loadingType){a.next=5;break}return a.abrupt("return");case 5:e.loadingType="loading",a.next=9;break;case 8:e.loadingType="more";case 9:"refresh"===n&&(e.searchParam.pageNum=1,e.productList=[]),(0,c.fetchReadHistoryList)(e.searchParam).then((function(t){var a=t.data.list;0===a.length?(e.loadingType="nomore",e.searchParam.pageNum--):(a.length<e.searchParam.pageSize?(e.loadingType="nomore",e.searchParam.pageNum--):e.loadingType="more",e.productList=e.productList.concat(a)),"refresh"===n&&(1==i?uni.hideLoading():uni.stopPullDownRefresh())}));case 11:case"end":return a.stop()}}),a)})))()},navToDetailPage:function(t){var e=t.productId;uni.navigateTo({url:"/pages/product/product?id=".concat(e)})},stopPrevent:function(){}}};e.default=d},ce42:function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,'@charset "UTF-8";\n/* 页面左右间距 */\n/* 文字尺寸 */\n/*文字颜色*/\n/* 边框颜色 */\n/* 图片加载中颜色 */\n/* 行为相关颜色 */uni-page-body[data-v-389088a8],\n.content[data-v-389088a8]{background:#f8f8f8}.hot-section[data-v-389088a8]{display:flex;flex-wrap:wrap;padding:0 %?30?%;margin-top:%?16?%;background:#fff}.hot-section .guess-item[data-v-389088a8]{display:flex;flex-direction:row;width:100%;padding-bottom:%?40?%}.hot-section .image-wrapper[data-v-389088a8]{width:30%;height:%?250?%;border-radius:3px;overflow:hidden}.hot-section .image-wrapper uni-image[data-v-389088a8]{width:100%;height:100%;opacity:1}.hot-section .title[data-v-389088a8]{font-size:%?32?%;color:#303133;line-height:%?80?%}.hot-section .title2[data-v-389088a8]{font-size:%?24?%;color:#909399;line-height:%?40?%;height:%?80?%;overflow:hidden;text-overflow:ellipsis;display:block}.hot-section .price[data-v-389088a8]{font-size:%?32?%;color:#fa436a;line-height:%?80?%}.hot-section .txt[data-v-389088a8]{width:70%;display:flex;flex-direction:column;padding-left:%?40?%}.hot-section .hor-txt[data-v-389088a8]{display:flex;justify-content:space-between}.hot-section .time[data-v-389088a8]{font-size:%?24?%;color:#303133;line-height:%?80?%}body.?%PAGE?%[data-v-389088a8]{background:#f8f8f8}',""]),t.exports=e},efee:function(t,e,a){"use strict";a.r(e);var n=a("be80"),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a}}]);